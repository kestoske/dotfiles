{{ define "script-header" -}}
#!/usr/bin/env bash

set -eufo pipefail
{{ end -}}

{{ if (eq .chezmoi.os "darwin") -}}
{{   template "script-header" . -}}
brew install \
    git \
    git-delta \
    less \
    coreutils \
    bat \
    exa
{{ else if (eq .chezmoi.os "linux") -}}
{{   template "script-header" . -}}
# https://github.com/ogham/exa/issues/783
sudo add-apt-repository ppa:spvkgn/exa
sudo apt-get update
sudo apt-get install -y \
    git \
    bat \
    exa
sudo snap install duf-utility
# due to a name clash with another package
ln -s /usr/bin/batcat "$HOME/.local/bin/bat"
{{ end -}}
